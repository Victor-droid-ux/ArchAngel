# =====================================================
# ARCHANGEL TRADING BOT - ENVIRONMENT CONFIGURATION
# =====================================================
# Copy this file to .env and configure with your values

# =====================================================
# CORE BLOCKCHAIN CONFIGURATION
# =====================================================
RPC_URL=https://api.mainnet-beta.solana.com
WALLET_PRIVATE_KEY=your_base58_private_key_here

# =====================================================
# TRADING MODE (affects liquidity requirements)
# =====================================================
# Options: "safe" (requires $5,000 liquidity) | "aggressive" (requires $1,500 liquidity)
TRADING_MODE=aggressive

# =====================================================
# SWAP BEHAVIOR
# =====================================================
# Set to "true" for real swaps, "false" for simulation mode (RECOMMENDED for testing)
USE_REAL_SWAP=false

# =====================================================
# RISK MANAGEMENT SETTINGS
# =====================================================
# Maximum percentage of balance to risk per trade (default: 2%)
MAX_RISK_PER_TRADE_PCT=2

# Maximum number of open positions at once (default: 3)
MAX_OPEN_POSITIONS=3

# Maximum daily loss percentage before stopping trades (default: 6%)
MAX_DAILY_LOSS_PCT=6

# =====================================================
# SLIPPAGE CONFIGURATION
# =====================================================
# Maximum slippage tolerance percentage (default: 10%, range: 8-12% recommended)
# Applied to both Pump.fun and Raydium swaps
# Trades abort if price impact exceeds 15%
MAX_SLIPPAGE_PCT=10

# =====================================================
# TRAILING STOP CONFIGURATION
# =====================================================
# Price increase percentage required to activate trailing stop (default: 15%)
TRAILING_ACTIVATION_PCT=0.15

# Percentage drop from peak to trigger trailing stop sell (default: 5%)
TRAILING_STOP_PCT=0.05

# =====================================================
# TIERED PROFIT TARGETS
# =====================================================
# Each tier sells 30% of remaining position
# Tier 1: Sells at +40% profit
# Tier 2: Sells at +80% profit
# Tier 3: Sells at +150% profit
# Final 10% uses trailing stop

# =====================================================
# DATABASE CONFIGURATION
# =====================================================
MONGODB_URI=mongodb://localhost:27017/archangel

# =====================================================
# API CONFIGURATION
# =====================================================
PORT=4000
DEXSCREENER_API_URL=https://api.dexscreener.com/latest/dex

# =====================================================
# LOGGING
# =====================================================
LOG_LEVEL=info

# =====================================================
# RAYDIUM POOL LISTENER (PROFESSIONAL SETUP)
# =====================================================
# Enable real-time Raydium pool detection
RAYDIUM_POOL_LISTENER=true

# Minimum LP size in SOL (recommended: 20-50 SOL)
MIN_RAYDIUM_LP_SOL=20

# Maximum buy/sell tax percentage (recommended: â‰¤5%)
MAX_BUY_TAX_PCT=5
MAX_SELL_TAX_PCT=5

# Require mint authority disabled (true = safer)
REQUIRE_MINT_DISABLED=true

# Require freeze authority disabled (true = safer)
REQUIRE_FREEZE_DISABLED=true

# Require LP locked or burned (true = safer, but may filter good tokens)
REQUIRE_LP_LOCKED=false

# Auto-buy when new pool passes all filters (CAREFUL!)
RAYDIUM_AUTO_BUY=false

# Amount to auto-buy in SOL when enabled
RAYDIUM_AUTO_BUY_SOL=0.1

# WebSocket RPC endpoint for real-time events (optional)
WS_RPC_URL=wss://api.mainnet-beta.solana.com

# =====================================================
# 10-STAGE TRADING SYSTEM OVERVIEW
# =====================================================
# Stage 1: Pump.fun Pre-Filter (85%+ bonding, $25k+ market cap, buy>sell volume)
# Stage 2: Raydium Graduation Detection
# Stage 3: Hard Liquidity Requirement ($1,500 aggressive / $5,000 safe)
# Stage 4: Anti-Rug Security (mint/freeze authority, holder distribution)
# Stage 5: 30-Second Market Behavior Observation
# Stage 6: Risk Management (position sizing, daily limits)
# Stage 7: Balance Verification
# Stage 8: 2-Tranche Buying (60% + test sell + 40% on 2% pullback)
# Stage 9: Tiered Profit Targets (30% at 3 tiers)
# Stage 10: Emergency Exits (LP removal, large sells, red candles, creator dumps)

# =====================================================
# SOCKET EVENTS (Frontend Integration)
# =====================================================
# - tradeFeed: All trades with type, timestamp, token info
# - tranche1_buy: First tranche execution
# - tranche2_buy: Second tranche execution
# - tiered_profit: Tier 1/2/3 profit taking
# - emergency_exit: Critical exit triggers
# - trailing_stop_final: Trailing stop for final 10%
# - position:trailingUpdate: Real-time trailing stop updates
# - tradeError: Error notifications
